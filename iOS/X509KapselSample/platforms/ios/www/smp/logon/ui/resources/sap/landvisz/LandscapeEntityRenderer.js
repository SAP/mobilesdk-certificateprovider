/*!
 *  @copyright 2012-2014 SAP SE. All rights reserved@
 */
jQuery.sap.declare("sap.landvisz.LandscapeEntityRenderer");jQuery.sap.require("sap.ui.commons.Button");jQuery.sap.require("sap.ui.commons.Label");sap.landvisz.LandscapeEntityRenderer={};
sap.landvisz.LandscapeEntityRenderer.render=function(r,c){var a=c.getRenderingSize();if(!this.initializationDone){c.initControls();c.initializationDone=true;r.write("<div");r.addClass("sapLandviszLandscapeEntity");r.writeClasses();r.writeControlData(c);if(c.expVisible==true){r.addStyle("width","100%");r.addStyle("height","100%")}if(this.left!=0)r.addStyle("left",c.left+"px");if(this.top!=0)r.addStyle("top",c.top+"px");if(c.entityMaximized==true){if(c.sViewWidth!=0)r.addStyle("width",c.sViewWidth+"px");if(c.sViewHeight!=0)r.addStyle("height",c.sViewHeight+"px")}if(c.viewType==sap.landvisz.ViewType.DEPENDENCY_VIEW||c.viewType==sap.landvisz.ViewType.SOLUTION_VIEW)r.addStyle("position","absolute");else r.addStyle("position","relative");r.writeStyles();r.write(">");this._renderModelingStatus(r,c);this._renderActionBar(r,c);this._renderSystemEntity(r,c);r.write("</div>");r.write("</div>");r.write("</div>");var b=c.oHeadersLayout.getContent();if(b.length>0){for(var i=0;i<b.length-2;i++)c.addAggregation("dataContainers",b[i],false)}if(c.getDataContainers()&&c.getDataContainers().length>0){var d=c.oVLayoutProperties.getContent();var e=c.propertyHeaders[c.selectedIndex];for(var i=0;i<d.length;i++){e.addAggregation("properties",d[i],false)}}if(c.expVisible==true){this._renderUnselectedHeaderPopup(r,c)}if(c.getDataContainers()&&c.getDataContainers().length>0){var f=c.getDataContainers();var e;var h;for(var i=0;i<f.length;i++){e=f[i];h=false;for(var j=0;j<c.dialogArray.length;j++){if(c.dialogArray[j].getHeader()==e.getHeader()){h=true;break}}if(h==false){c.smvContainer=new sap.landvisz.internal.SingleDataContainer(c.getId()+i+"CLVSMVSection");c.smvContainer.setHeader(e.getHeader());c.dialogArray.push(c.smvContainer)}}}c.firstTime=false;this._renderOverlayContainer(r,c);r.write("</div>");var g=c.oHLayoutAction.getContent();for(var j=g.length-1;j>=0;j--){c.addAggregation("actionBar",g[j],false)}c.containerEvent=false}};
sap.landvisz.LandscapeEntityRenderer._renderModelingStatus=function(r,c){var a=c.getRenderingSize();r.write("<div");c.modelStatus.entityMaximized=c.entityMaximized;if(c.entityMaximized!=true){if(a==sap.landvisz.EntityCSSSize.Small)r.addClass("sapLandviszStatusSmallSize");else if(a==sap.landvisz.EntityCSSSize.RegularSmall)r.addClass("sapLandviszStatusRegularSmallSize");else if(a==sap.landvisz.EntityCSSSize.Regular)r.addClass("sapLandviszStatusRegularSize");else if(a==sap.landvisz.EntityCSSSize.Medium)r.addClass("sapLandviszStatusMediumSize");else if(a==sap.landvisz.EntityCSSSize.Large)r.addClass("sapLandviszStatusLargeSize")}else{r.addClass("sapLandviszStatusMaximizeSize")}r.writeClasses();r.write(">");c.modelStatus.setStatus(c.getSystemStatus());c.modelStatus.setStatusTooltip(c.getStatusTooltip());c.modelStatus.setStateIconSrc(c.getStateIconSrc());c.modelStatus.setStateIconTooltip(c.getStateIconTooltip());if(c.getEntityStatus())c.modelStatus.statusImage=c.getEntityStatus();c.modelStatus.renderSize=a;if(c.firstTime==true){c.modelStatus.attachEvent("statusSelected",function(e){c.fireStatusSelect()})}r.renderControl(c.modelStatus)};
sap.landvisz.LandscapeEntityRenderer._renderActionBar=function(r,c){var a=c.getRenderingSize();var s=c.getShowCustomActions();var b=c.getShowEntityActions();r.write("<div");if(c.entityMaximized!=true){r.addClass("sapLandviszActionBarSizeCommon");if(a==sap.landvisz.EntityCSSSize.Small){r.addClass("sapLandviszActionBarSmallSize");c.oVLayoutProperties.addStyleClass("sapLandviszSmallSizesPropertySection");c.oVLayoutProperties.removeStyleClass("sapLandviszMaximizePropertySection");c._imgFolderPath="16x16/";c.restore=false}else if(a==sap.landvisz.EntityCSSSize.RegularSmall){r.addClass("sapLandviszActionBarRegularSmallSize");c.oVLayoutProperties.addStyleClass("sapLandviszRegularSmallSizesPropertySection");c.oVLayoutProperties.removeStyleClass("sapLandviszMaximizePropertySection");c._imgFolderPath="16x16/";c.restore=false}else if(a==sap.landvisz.EntityCSSSize.Regular){r.addClass("sapLandviszActionBarRegularSize");c.oVLayoutProperties.addStyleClass("sapLandviszRegularSizesPropertySection");c.oVLayoutProperties.removeStyleClass("sapLandviszMaximizePropertySection");c._imgFolderPath="16x16/";c.restore=false}else if(a==sap.landvisz.EntityCSSSize.Medium){r.addClass("sapLandviszActionBarMediumSize");c.oVLayoutProperties.addStyleClass("sapLandviszMediumSizesPropertySection");c.oVLayoutProperties.removeStyleClass("sapLandviszMaximizePropertySection");c.restore=false;c._imgFolderPath="16x16/"}else if(a==sap.landvisz.EntityCSSSize.Large){r.addClass("sapLandviszActionBarLargeSize");c.oVLayoutProperties.addStyleClass("sapLandviszLargeSizesPropertySection");c.oVLayoutProperties.removeStyleClass("sapLandviszMaximizePropertySection");c.restore=true;c._imgFolderPath="24x24/"}if(c.expVisible==true){if(a==sap.landvisz.EntityCSSSize.Regular){c.oVLayoutProperties.addStyleClass("sapLandviszRegularSizesPropertySectionSmv");c.oVLayoutProperties.removeStyleClass("sapLandviszRegularSmallSizesPropertySectionSmv")}else if(a==sap.landvisz.EntityCSSSize.RegularSmall){c.oVLayoutProperties.addStyleClass("sapLandviszRegularSmallSizesPropertySectionSmv");c.oVLayoutProperties.removeStyleClass("sapLandviszRegularSizesPropertySectionSmv");c.oVLayoutProperties.removeStyleClass("sapLandviszMaximizePropertySection");if(c.explodeViewClosed==true)c.oVLayoutProperties.addStyleClass("sapLandviszRegularSmallSizesPropertySection");else c.oVLayoutProperties.removeStyleClass("sapLandviszRegularSmallSizesPropertySection")}}else{c.oVLayoutProperties.removeStyleClass("sapLandviszRegularSizesPropertySectionSmv")}}if(c.entityMaximized==true){var m=c.sViewWidth-30;r.addStyle("width",m+"px");r.addClass("sapLandviszActionBarMaximizeSize");c.oVLayoutProperties.addStyleClass("sapLandviszMaximizePropertySection");c.oVLayoutProperties.addStyleClass("sapLandviszMaximizePropertySection");if(a==sap.landvisz.EntityCSSSize.Large)c.oVLayoutProperties.removeStyleClass("sapLandviszLargeSizesPropertySection");else if(a==sap.landvisz.EntityCSSSize.Small)c.oVLayoutProperties.removeStyleClass("sapLandviszSmallSizesPropertySection");else if(a==sap.landvisz.EntityCSSSize.RegularSmall)c.oVLayoutProperties.removeStyleClass("sapLandviszRegularSmallSizesPropertySection");else if(a==sap.landvisz.EntityCSSSize.Regular)c.oVLayoutProperties.removeStyleClass("sapLandviszRegularSizesPropertySection");else if(a==sap.landvisz.EntityCSSSize.Medium)c.oVLayoutProperties.removeStyleClass("sapLandviszMediumSizesPropertySection");c.oVLayoutProperties.removeStyleClass("sapLandviszRegularSmallSizesPropertySectionSmv");c.restore=true;c._imgFolderPath="24x24/"}r.writeStyles();r.writeClasses();r.write(">");if(s==true)this._renderCustomActionRegion(r,c);c.oHLayoutAllAction.addContent(c.oHLayoutAction);if(b==true)this._renderEntityAction(r,c);if(c.entityMaximized==true){c.oHLayoutAllAction.addStyleClass("sapLandviszAllActionLayoutMaximize");c.oHLayoutAllAction.removeStyleClass("sapLandviszAllActionLayout")}else{c.oHLayoutAllAction.addStyleClass("sapLandviszAllActionLayout");c.oHLayoutAllAction.removeStyleClass("sapLandviszAllActionLayoutMaximize")}r.renderControl(c.oHLayoutAllAction)};
sap.landvisz.LandscapeEntityRenderer._renderSystemEntity=function(r,c){var a=c.getRenderingSize();r.write("<div");if(c.entityMaximized!=true){if(a==sap.landvisz.EntityCSSSize.Small){r.addClass("sapLandviszLandscapeEntitySmallSize");c.containerWidth=21}else if(a==sap.landvisz.EntityCSSSize.RegularSmall){r.addClass("sapLandviszLandscapeEntityRegularSmallSize");c.containerWidth=31.5}else if(a==sap.landvisz.EntityCSSSize.Regular){r.addClass("sapLandviszLandscapeEntityRegularSize");c.containerWidth=36.5}else if(a==sap.landvisz.EntityCSSSize.Medium){r.addClass("sapLandviszLandscapeEntityMediumSize");c.containerWidth=41}else if(a==sap.landvisz.EntityCSSSize.Large){r.addClass("sapLandviszLandscapeEntityLargeSize");c.containerWidth=62}}else if(c.entityMaximized==true){r.addClass("sapLandviszLandscapeEntityMaximizedSize");r.write(" style='");var e;var b;if(c.sViewWidth!=0){e=c.sViewWidth-30;r.write("width:"+e+"px;")}if(c.sViewHeight!=0){b=c.sViewHeight-32;r.write("height:"+b+"px;")}r.write("position:absolute;");r.write("'")}r.writeClasses();r.write(">");this._renderIdentificationBar(r,c);this._renderDataEntityRegion(r,c);r.renderControl(c.oHLayout)};
sap.landvisz.LandscapeEntityRenderer._renderIdentificationBar=function(r,c){var i=c.getId();if(c.entityMaximized==true){c.oIdnBar.entityMaximized=c.entityMaximized;c.oIdnBar.maxHeight=c.sViewHeight-32}else c.oIdnBar.entityMaximized=false;c.oIdnBar.setText(c.getSystemName());c.oIdnBar.setTooltip(c.getTooltip());c.oIdnBar.setType(c.getType());c.oIdnBar.setQualifierText(c.getQualifierText());c.oIdnBar.setQualifierTooltip(c.getQualifierTooltip());c.oIdnBar.setQualifierType(c.getQualifierType());c.oIdnBar.setRenderingSize(c.getRenderingSize());c.oIdnBar.setDefaultState(c.getDefaultState());c.oIdnBar.setDescription(c.getDescription());c.oIdnBar.setComponentType(c.getComponentType());c.oVLayout.addContent(c.oIdnBar);c.oHLayout.addContent(c.oVLayout)};
sap.landvisz.LandscapeEntityRenderer._renderDataEntityRegion=function(r,c){c.propertyHeaders=c.getDataContainers();if(c.propertyHeaders.length>0)this._renderTabContainers(r,c);else if(!c.propertyHeaders||c.propertyHeaders.length<1){c.propertyHeaders=c.getContainers();if(c.propertyHeaders&&c.propertyHeaders.length>0)this._renderContainerData(r,c);else if(c.propertyHeaders)this._renderSingleContainerData(r,c)}c.oVLayoutContainer.addContent(c.oVLayoutProperties);if(c.display=="block"){c.oVLayoutContainer.addStyleClass("sapLandviszDisplayBlock");c.oVLayoutContainer.removeStyleClass("sapLandviszDisplayNone")}else{c.oVLayoutContainer.addStyleClass("sapLandviszDisplayNone");c.oVLayoutContainer.removeStyleClass("sapLandviszDisplayBlock")}c.oHLayout.addContent(c.oVLayoutContainer)};
sap.landvisz.LandscapeEntityRenderer._findContainerProperties=function(k,c,r){for(var i=0;i<c.propertyHeaders.length;i++){if(k==c.propertyHeaders[i].header){c.propertyHeaders[i].selected=true;c.selectedIndex=i;this._renderDataContainerProperties(r,c,c.propertyHeaders[i].properties,"")}else c.propertyHeaders[i].selected=false}};
sap.landvisz.LandscapeEntityRenderer._findContainerAggregationProperties=function(k,c,r){for(var i=0;i<c.propertyHeaders.length;i++){if(k==c.propertyHeaders[i].getHeader()){c.propertyHeaders[i].setSelected(true);c.selectedIndex=i}else c.propertyHeaders[i].setSelected(false)}};
sap.landvisz.LandscapeEntityRenderer._renderSingleContainerData=function(r,c){var a=c.getContainers();var b=c.getId();c.dataContainer=new sap.landvisz.internal.DataContainer(b+"-CLVEntityDataContainer");c.dataContainer.setHeader(a.header);c.dataContainer.setSelected(a.selected);var p=a.properties;this._setPropertiesAggregation(r,c,p,a.header);c.addAggregation("dataContainers",c.dataContainer,false);c.propertyHeaders=c.getDataContainers();this._renderContainerAggregation(r,c)};
sap.landvisz.LandscapeEntityRenderer._setPropertiesAggregation=function(r,c,p,h){var i;var a=c.getId();if(p&&p.length&&p.length>0){for(var j=0;j<p.length;j++){i=a+j+h+"-CLVRowField";c.dataContainer.addAggregation("properties",p[j],false)}}else if(p instanceof sap.ui.core.Control){i=a+h+"-CLVRowField";c.dataContainer.addAggregation("properties",p,false)}};
sap.landvisz.LandscapeEntityRenderer._renderContainerData=function(r,c){var a=c.getId();c.isAggregated=false;this._setContainerRenderingSize(c);var s;var b;var p;var d;for(var i=0;i<c.propertyHeaders.length;i++){c.dataContainer=new sap.landvisz.internal.DataContainer(a+i+"-CLVEntityDataContainer");b=c.propertyHeaders[i];c.dataContainer.setHeader(b.header);c.dataContainer.setSelected(b.selected);p=b.properties;this._setPropertiesAggregation(r,c,p,b.header);c.addAggregation("dataContainers",c.dataContainer,false)}c.propertyHeaders=c.getDataContainers();this._renderTabContainers(r,c)};
sap.landvisz.LandscapeEntityRenderer._makeOtherContainerUnselected=function(c,a){for(var i=0;i<a;i++)c.propertyHeaders[i].setSelected(false)};
sap.landvisz.LandscapeEntityRenderer._renderTabContainers=function(r,c){var a=c.getId();var s;c.isAggregated=true;var b;this._setContainerRenderingSize(c);for(var i=0;i<c.propertyHeaders.length;i++){c.dataContainer=c.propertyHeaders[i];c.dataContainer.setRenderingSize(c.getRenderingSize());c.dataContainer.setType(c.getType());if(i==0)c.dataContainer.setSelected(true);s=c.dataContainer.getSelected();if(s==true){b=c.dataContainer;c.selectedIndex=i;this._makeOtherContainerUnselected(c,i)}if(c.showMiniNavigation==true&&c.propertyHeaders.length>1){this._createMiniNavigation(r,c,c.dataContainer.getHeader(),c.dataContainer.getSelected());if(i+1==c.propertyHeaders.length){c.oHLayoutMiniNavigation.addStyleClass("sapLandviszMiniNavigationVisible");c.oHLayoutMiniNavigation.removeStyleClass("sapLandviszMiniNavigationHidden")}}else{c.oHLayoutMiniNavigation.addStyleClass("sapLandviszMiniNavigationHidden");c.oHLayoutMiniNavigation.removeStyleClass("sapLandviszMiniNavigationVisible")}c.oVLayoutContainer.addContent(c.oHLayoutMiniNavigation);c.oHeadersLayout.addContent(c.dataContainer);var t=this;if(c.dataContainer.hasChangeEvent==false){c.dataContainer.attachEvent("itemsChanged",function(e){c.oVLayoutProperties.removeAllContent();var k=e.oSource.getHeader();t._findContainerAggregationProperties(k,c,r);t._selectMiniNavigationButton(c,r,k);c.containerEvent=true;c.invalidate()},this)}}c.dataContainer.hasChangeEvent=true;c.oHeadersLayout.addContent(c.previousIcon);c.oHeadersLayout.addContent(c.nextIcon);if(c.containerEvent==false)this._setVisibleTabs(r,c);this._enableNextAndPrevious(r,c,c.selectedIndex);c.oVLayoutContainer.addContent(c.oHeadersLayout);c.oSingleHeaderLabel.setText(b.getHeader());c.oSingleHeaderLabel.setTooltip(b.getHeader());c.oSingleHeaderLabel.addStyleClass("sapLandviszSingleLabelHeaderWidth");c.oSingleHeaderLayout.addContent(c.oSingleHeaderLabel);c.oVLayoutContainer.addContent(c.oSingleHeaderLayout);if(c.expVisible==false&&c.oHeadersLayout.getContent().length>3){c.oHeadersLayout.removeStyleClass("sapLandviszDisplayNone");c.oSingleHeaderLayout.addStyleClass("sapLandviszDisplayNone");c.oSingleHeaderLayout.removeStyleClass("sapLandviszDisplayBlock");c.oVLayoutProperties.removeStyleClass("sapLandviszRegularSizesPropertySectionSmv")}else{if(c.expVisible==true)c.oSingleHeaderLayout.addStyleClass("singleHeaderExplodeView");c.oSingleHeaderLayout.addStyleClass("singleHeader");c.oHeadersLayout.addStyleClass("sapLandviszDisplayNone");c.oHeadersLayout.removeStyleClass("sapLandviszDisplayBlock");c.oSingleHeaderLayout.addStyleClass("sapLandviszDisplayBlock");c.oSingleHeaderLayout.removeStyleClass("sapLandviszDisplayNone");if(c.getRenderingSize()==sap.landvisz.EntityCSSSize.Small)c.oVLayoutProperties.addStyleClass("sapLandviszSmallSizesPropertySectionSmv");else if(c.getRenderingSize()==sap.landvisz.EntityCSSSize.Regular)c.oVLayoutProperties.addStyleClass("sapLandviszRegularSizesPropertySectionSmv");else if(c.getRenderingSize()==sap.landvisz.EntityCSSSize.RegularSmall)c.oVLayoutProperties.addStyleClass("sapLandviszRegularSmallSizesPropertySectionSmv");if(c.getType()==sap.landvisz.LandscapeObject.TechnicalSystem)c.oSingleHeaderLayout.addStyleClass("sapLandviszTechnicalSystem");else if(c.getType()==sap.landvisz.LandscapeObject.ProductSystem)c.oSingleHeaderLayout.addStyleClass("sapLandviszProductSystem");else if(c.getType()==sap.landvisz.LandscapeObject.SapComponent)c.oSingleHeaderLayout.addStyleClass("sapLandviszSapComponent")}if(c.expVisible==false&&c.getRenderingSize()==sap.landvisz.EntityCSSSize.RegularSmall){c.oVLayoutProperties.removeStyleClass("sapLandviszRegularSizesPropertySectionSmv")}if(c.explodeViewClosed==true&&c.getRenderingSize()==sap.landvisz.EntityCSSSize.RegularSmall&&c.oHeadersLayout.getContent().length>3){c.oVLayoutProperties.removeStyleClass("sapLandviszRegularSmallSizesPropertySectionSmv");c.oVLayoutProperties.addStyleClass("sapLandviszRegularSmallSizesPropertySection")}if(c.explodeViewClosed==true&&c.getRenderingSize()==sap.landvisz.EntityCSSSize.Small&&c.oHeadersLayout.getContent().length>3){c.oVLayoutProperties.removeStyleClass("sapLandviszSmallSizesPropertySectionSmv");c.oVLayoutProperties.addStyleClass("sapLandviszSmallSizesPropertySection")}if(c.expVisible==true&&c.getRenderingSize()==sap.landvisz.EntityCSSSize.RegularSmall){c.oVLayoutProperties.addStyleClass("sapLandviszRegularSmallSizesPropertySectionSmv")}var t=this;var m=c.oHLayoutMiniNavigation.getContent();if(m.length>0){var d=c.oHeadersLayout.getContent();for(var i=0;i<d.length-2;i++){if(d[i].inDisplay==true&&d[i].getSelected()==true)m[i].setSelected(true);else if(d[i].inDisplay==true)m[i].inDisplay=true;else m[i].inDisplay=false}m[c.selectedIndex].setSelected(true)}this._renderDataContainerProperties(r,c,b.getProperties(),b.getHeader())};
sap.landvisz.LandscapeEntityRenderer._setVisibleTabs=function(r,c){var a=c.getRenderingSize();var s=false;if(c.entityMaximized!=true){if(a==sap.landvisz.EntityCSSSize.Small){if(c.propertyHeaders.length>1)c.visibleTabCount=1;else s=true}else if(a==sap.landvisz.EntityCSSSize.RegularSmall){if(c.propertyHeaders.length>2)c.visibleTabCount=2;else s=true}else if(a==sap.landvisz.EntityCSSSize.Regular){if(c.propertyHeaders.length>2)c.visibleTabCount=2;else s=true}else if(a==sap.landvisz.EntityCSSSize.Medium){if(c.propertyHeaders.length>2)c.visibleTabCount=2;else s=true}else if(a==sap.landvisz.EntityCSSSize.Large){if(c.propertyHeaders.length>4)c.visibleTabCount=4;else s=true}}else if(c.entityMaximized==true){var b=Math.floor(c.containerWidth/148);if(c.propertyHeaders.length>b)c.visibleTabCount=b;else s=true}var t=c.oHeadersLayout.getContent();if(s){var d=c.containerWidth/(t.length-2);if(c.entityMaximized!=true)d=(d*12);d=Math.round(d)-2;for(var i=0;i<t.length;i++){if(i>t.length-3){t[i].inDisplay=false}else{t[i].width=d+"px";t[i].inDisplay=true}}}else{var e;var v;var d;var f=0;var g;if(c.visibleTabCount<c.propertyHeaders.length){v=c.visibleTabCount;if(c.entityMaximized!=true)d=c.containerWidth*12;else d=c.containerWidth;d=d-46;d=Math.round((d/c.visibleTabCount)-2)}else v=c.propertyHeaders.length;if(c.previousClicked==true){for(var i=0;i<t.length;i++){if(i>t.length-3){t[i].inDisplay=true}else{g=t[i].getSelected();if(g==true){f=i-1;e=i}else{t[i].inDisplay=false}t[i].width=d+"px"}}v=c.visibleTabCount;if(f>=0){for(var k=f;k>=0;k--){t[k].inDisplay=true;v--}}for(var l=0;l<v;l++){t[l+e].inDisplay=true}}else{for(var i=0;i<t.length;i++){if(i>t.length-3){t[i].inDisplay=true}else{g=t[i].getSelected();if(g==true){f=t.length-3-i;e=i}else{t[i].inDisplay=false}t[i].width=d+"px"}}if(f>=v){for(var k=0;k<v;k++){t[e+k].inDisplay=true}}else{for(var j=0;j<=f;j++){v--;t[e+j].inDisplay=true}for(var k=0;k<=v;k++){t[e-k].inDisplay=true}}}}};
sap.landvisz.LandscapeEntityRenderer._enableNextAndPrevious=function(r,c,s){var f="16x16/";var p;var n;var a=c.getRenderingSize();var b=false;if(a==sap.landvisz.EntityCSSSize.Small){if(c.propertyHeaders.length>1)c.visibleTabCount=1;else b=true}else if(a==sap.landvisz.EntityCSSSize.RegularSmall){if(c.propertyHeaders.length>2)c.visibleTabCount=2;else b=true}else if(a==sap.landvisz.EntityCSSSize.Regular){if(c.propertyHeaders.length>2)c.visibleTabCount=2;else b=true}else if(a==sap.landvisz.EntityCSSSize.Medium){if(c.propertyHeaders.length>2)c.visibleTabCount=2;else b=true}else if(a==sap.landvisz.EntityCSSSize.Large){if(c.propertyHeaders.length>4)c.visibleTabCount=4;else b=true}var e=false;var t=c.oHeadersLayout.getContent();if(s>0){for(var i=0;i<s;i++){if(t[i].inDisplay==false){e=true;break}}}if(e==true)p=c._imgResourcePath+f+"leftnav_enable_dark.png";else p=c._imgResourcePath+f+"leftnav_disable.png";var d=false;if(s<c.propertyHeaders.length){for(var i=c.propertyHeaders.length-1;i>s;i--){if(t[i].inDisplay==false){d=true;break}}}if(d==true)n=c._imgResourcePath+f+"rightnav_enable_dark.png";else n=c._imgResourcePath+f+"rightnav_disable.png";c.nextIcon.addStyleClass("sapLandviszLandscapeEntityNavIcon");c.previousIcon.addStyleClass("sapLandviszLandscapeEntityNavIcon");c.nextIcon.setTooltip(c.NEXT);c.previousIcon.setTooltip(c.PREVIOUS);if(a==sap.landvisz.EntityCSSSize.Small){c.previousIcon.setHeight("14px");c.nextIcon.setHeight("14px")}else if(a==sap.landvisz.EntityCSSSize.RegularSmall){c.previousIcon.setHeight("16px");c.nextIcon.setHeight("16px")}else if(a==sap.landvisz.EntityCSSSize.Regular){c.previousIcon.setHeight("16px");c.nextIcon.setHeight("16px")}else if(a==sap.landvisz.EntityCSSSize.Medium){c.previousIcon.setHeight("16px");c.nextIcon.setHeight("16px")}else if(a==sap.landvisz.EntityCSSSize.Large){c.previousIcon.setHeight("26px");c.nextIcon.setHeight("26px")}c.nextIcon.setSrc(n);c.previousIcon.setSrc(p);c.nextEnabled=d;c.previousEnable=e;var g=this;if(c.hasNavigationEvent==false){c.nextIcon.attachPress(function(E){if(c.nextEnabled==true){c.nextClicked=true;var h;for(var m=0;m<t.length-2;m++){if(t[m].inDisplay==true){h=m+c.visibleTabCount;break}}g._findContainerAggregationProperties(t[h].getHeader(),c,r);g._selectMiniNavigationButton(c,r,t[h].getHeader());c.containerEvent=false;c.invalidate()}});c.previousIcon.attachPress(function(E){if(c.previousEnable==true){var h;c.previousClicked=true;for(var l=0;l<t.length-2;l++){if(t[l].inDisplay==true){h=l-1;break}}if(h<0)h=0;g._findContainerAggregationProperties(t[h].getHeader(),c,r);g._selectMiniNavigationButton(c,r,t[h].getHeader());c.containerEvent=false;c.invalidate()}});c.hasNavigationEvent=true}};
sap.landvisz.LandscapeEntityRenderer._renderContainerAggregation=function(r,c){var a=c.getId();var s;c.isAggregated=true;var b;this._setContainerRenderingSize(c);for(var i=0;i<c.propertyHeaders.length;i++){c.dataContainer=c.propertyHeaders[i];if(i==0)c.dataContainer.setSelected(true);s=c.dataContainer.getSelected();if(s==true){b=c.dataContainer;c.selectedIndex=i}if(c.showMiniNavigation==true){this._createMiniNavigation(r,c,c.dataContainer.getHeader(),c.dataContainer.getSelected());if(i+1==c.propertyHeaders.length){c.oHLayoutMiniNavigation.addStyleClass("sapLandviszMiniNavigationVisible");c.oHLayoutMiniNavigation.removeStyleClass("sapLandviszMiniNavigationHidden")}}else{c.oHLayoutMiniNavigation.addStyleClass("sapLandviszMiniNavigationHidden");c.oHLayoutMiniNavigation.removeStyleClass("sapLandviszMiniNavigationVisible")}c.oVLayoutContainer.addContent(c.oHLayoutMiniNavigation);this._initilizeDataContainer(r,c,i)}var t=this;this._renderDataContainerProperties(r,c,b.getProperties(),b.getHeader())};
sap.landvisz.LandscapeEntityRenderer._setContainerRenderingSize=function(c){var r=c.getRenderingSize();if(c.entityMaximized==true)c.containerWidth=c.sViewWidth-30-(8.4*12);else{if(r==sap.landvisz.EntityCSSSize.Small)c.containerWidth=21-6.1;else if(r==sap.landvisz.EntityCSSSize.RegularSmall)c.containerWidth=31.5-7;else if(r==sap.landvisz.EntityCSSSize.Regular)c.containerWidth=36.5-8.33;else if(r==sap.landvisz.EntityCSSSize.Medium){c.containerWidth=41-8.4}else if(r==sap.landvisz.EntityCSSSize.Large){c.containerWidth=62-8.4}}};
sap.landvisz.LandscapeEntityRenderer._initilizeDataContainer=function(r,c,i){c.dataContainer.lastItem=false;if(i+1==c.propertyHeaders.length)c.dataContainer.lastItem=true;c.dataContainer.oVLayoutContainer=c.oVLayoutContainer;r.renderControl(c.dataContainer)};
sap.landvisz.LandscapeEntityRenderer._createMiniNavigation=function(r,c,h,s){var m=c.oHLayoutMiniNavigation.getContent();var a=false;var b=0;if(c.getActionBar()&&c.getActionBar().length>0)b=1;if(m.length>0){for(var i=0;i<m.length-b;i++){if(h==m[i].getHeaderTooltip()){c.headerBtn=m[i];a=true}}}var d=c.getId();if(a==false)c.headerBtn=new sap.landvisz.internal.HeaderList();c.headerBtn.setHeaderTooltip(h);c.headerBtn.setSelected(false);c.headerBtn.setType(c.getType());var e=c.containerWidth/c.propertyHeaders.length;if(c.entityMaximized!=true)e=e*12;c.headerBtn.headerWidth=Math.round(e)-2.5;var v;var t=this;if(a==false)c.headerBtn.attachPress(function(E){v=E.oSource.getHeaderTooltip();t._selectMiniNavigationButton(c,r,v);t._findContainerAggregationProperties(v,c,r);c.containerEvent=false;c.invalidate()});c.headerBtn.removeStyleClass("sapLandviszMiniNavigationSelected");c.headerBtn.removeStyleClass("sapLandviszMiniNavigationInDisplay");c.headerBtn.removeStyleClass("sapLandviszMiniNavigationNormal");c.oHLayoutMiniNavigation.addContent(c.headerBtn)};
sap.landvisz.LandscapeEntityRenderer._selectMiniNavigationButton=function(c,r,v){this._setContainerRenderingSize(c);var b=c.containerWidth/c.propertyHeaders.length;var h=c.oHLayoutMiniNavigation.getContent();for(var i=0;i<h.length;i++){var a=h[i];if(a.getHeaderTooltip()==v){a.setSelected(true);a.setType(c.getType())}else{a.setSelected(false)}}};
sap.landvisz.LandscapeEntityRenderer._selectNavigationHeader=function(c,r,v){var a=c.oNavBar.getItems();for(var i=0;i<a.length;i++){if(a[i].getKey()==v){c.oNavBar.setSelectedItem(a[i]);c.oVLayoutProperties.removeAllContent();if(c.isAggregated)this._findContainerAggregationProperties(a[i].getKey(),c,r);else this._findContainerProperties(a[i].getKey(),c,r)}}};
sap.landvisz.LandscapeEntityRenderer._renderDataContainerProperties=function(r,c,p,h){var a=c.getId();var b;if(p&&p.length&&p.length>0){for(var i=0;i<p.length;i++){this._renderContainerProperty(c,p[i],b)}}else if(p instanceof sap.ui.core.Control){this._renderContainerProperty(c,p,b)}};
sap.landvisz.LandscapeEntityRenderer._renderContainerProperty=function(c,p,i){if(p instanceof sap.landvisz.internal.LinearRowField||p instanceof sap.landvisz.internal.NestedRowField||p instanceof sap.landvisz.internal.TreeField||p instanceof sap.landvisz.LongTextField)p.setRenderingSize(c.getRenderingSize());p.totalWidth=c.containerWidth;p.entityMaximized=c.entityMaximized;c.oVLayoutProperties.addContent(p)};
sap.landvisz.LandscapeEntityRenderer._renderEntityAction=function(r,c){for(var i=0;i<c.entityActionArray.length;i++){c.entityAction=c.entityActionArray[i];c.entityAction.entityMaximized=c.entityMaximized;if(c.restore==true&&c.entityAction.getActionTooltip()==c.MAXIMIZE_TEXT){c.oHLayoutAllAction.removeContent(c.entityAction);continue}if(c.restore==false&&c.entityAction.getActionTooltip()==c.RESTORE_TEXT){c.oHLayoutAllAction.removeContent(c.entityAction);continue}if(c.expVisible==true&&c.entityAction.getActionTooltip()==c.SHOW_ALL_TEXT){c.oHLayoutAllAction.removeContent(c.entityAction);continue}if(c.expVisible==false&&c.entityAction.getActionTooltip()==c.COLLAPSE_TEXT){c.oHLayoutAllAction.removeContent(c.entityAction);continue}if(c.expVisible==true&&c.entityAction.getActionTooltip()==c.MAXIMIZE_TEXT){c.oHLayoutAllAction.removeContent(c.entityAction);continue}if(c.entityMaximized==true&&c.entityAction.getActionTooltip()==c.SHOW_ALL_TEXT){c.oHLayoutAllAction.removeContent(c.entityAction);continue}if(c.entityAction.getActionTooltip()==c.MAXIMIZE_TEXT)c.entityAction.setIconSrc(c._imgResourcePath+c._imgFolderPath+"maximize_enable_dark.png");if(c.entityAction.getActionTooltip()==c.RESTORE_TEXT)c.entityAction.setIconSrc(c._imgResourcePath+c._imgFolderPath+"restore_enable_dark.png");if(c.entityAction.getActionTooltip()==c.SHOW_ALL_TEXT)c.entityAction.setIconSrc(c._imgResourcePath+c._imgFolderPath+"openshowall_enable_dark.png");if(c.entityAction.getActionTooltip()==c.COLLAPSE_TEXT)c.entityAction.setIconSrc(c._imgResourcePath+c._imgFolderPath+"closeshowall_enable_dark.png");var a=c.getRenderingSize();c.entityAction.setRenderingSize(a);c.oHLayoutAllAction.addContent(c.entityAction);var t=this;if(c.hasEntityEvent==false){c.entityAction.attachPress(function(e){var v=e.oSource;if(v.getActionTooltip()==c.MAXIMIZE_TEXT){c.entityMaximized=true;c.invalidate();c.oHLayoutAllAction.removeContent(v);c.containerEvent=false}if(v.getActionTooltip()==c.RESTORE_TEXT&&c.entityMaximized==true){setTimeout(function(){c.entityMaximized=false;c.invalidate()},1000)}if(v.getActionTooltip()==c.RESTORE_TEXT){c.entityMaximized=false;c.oHLayoutAllAction.removeContent(v);c.containerEvent=false}if(v.getActionTooltip()==c.SHOW_ALL_TEXT&&c.entityMaximized==true){c.entityMaximized=false;c.expVisible=true;t._renderExplodeView(r,c);c.showMiniNavigation=false;setTimeout(function(){c.entityMaximized=false;c.invalidate()},1000)}if(v.getActionTooltip()==c.SHOW_ALL_TEXT){c.entityMaximized=false;c.expVisible=true;t._renderExplodeView(r,c);c.showMiniNavigation=false;c.invalidate()}if(v.getActionTooltip()==c.COLLAPSE_TEXT){c.entityMaximized=false;c.expVisible=false;c.showMiniNavigation=true;t._resetHeaderData(r,c);t._resetHeaderNavigation(r,c);c.nextIcon.setVisible(true);c.previousIcon.setVisible(true);jQuery.sap.byId("SMV").hide(700);c.invalidate()}});c.hasEntityEvent==true}}};
sap.landvisz.LandscapeEntityRenderer._renderExplodeView=function(r,c){this.hideUnselectedHeaders(r,c)};
sap.landvisz.LandscapeEntityRenderer.hideUnselectedHeaders=function(r,c){var a=c.getDataContainers();for(var i=0;i<a.length;i++){if(i!=c.selectedIndex){a[i].visible=false}}c.nextIcon.setVisible(false);c.previousIcon.setVisible(false)};
sap.landvisz.LandscapeEntityRenderer._renderUnselectedHeaderPopup=function(r,c){var a=new Array();r.write("<div");r.writeAttributeEscaped("id","SMV");var b=c.getRenderingSize();if(b==sap.landvisz.EntityCSSSize.RegularSmall)r.addClass("sapLandviszSMVContainerRegularSmall");else if(b==sap.landvisz.EntityCSSSize.Regular)r.addClass("sapLandviszSMVContainerRegular");else if(b==sap.landvisz.EntityCSSSize.Medium)r.addClass("sapLandviszSMVContainerMedium");r.writeClasses();if(c.sViewWidth!=0)r.addStyle("width",c.sViewWidth-2+"px");else if(c.getExplodeViewWidth()&&c.getExplodeViewWidth()!='')r.addStyle("width",c.getExplodeViewWidth());if(c.sViewHeight!=0)r.addStyle("height","100%");else if(c.getExplodeViewHeight()&&c.getExplodeViewHeight()!='')r.addStyle("height",c.getExplodeViewHeight());r.writeStyles();r.write(">");a=c.getDataContainers();var p;var d;var e;var f;var t=this;var b=c.getRenderingSize();if(a.length>0){for(var i=0;i<a.length;i++){d=a[i];if(i!=c.selectedIndex){p=d.getProperties();c.smvContainer=c.dialogArray[i];c.smvContainer.setRenderingSize(c.getRenderingSize());c.smvContainer.setHeader(d.getHeader());for(var j=0;j<p.length;j++){e=p[j];c.smvContainer.addAggregation("properties",e,false)}c.smvContainer.addStyleClass("sapLandviszDisplayNone");r.renderControl(c.smvContainer);c.smvContainer.attachClosed(function(E){c.expVisible=false;var v=E.oSource;var a=c.getDataContainers();var g;for(var i=0;i<a.length;i++){g=v.getProperties();var d=a[i];if(d.getHeader()==v.getHeader()){if(g.length>0){for(var j=0;j<g.length;j++){d.addAggregation("properties",g[j],false)}}}}if(t._checkAllPopupClosed(c,v)){t._resetHeaderNavigation(r,c);c.showMiniNavigation=true;c.nextIcon.setVisible(true);c.previousIcon.setVisible(true);c.invalidate()}})}}}r.write("</div>")};
sap.landvisz.LandscapeEntityRenderer._resetHeaderData=function(r,c){var a;var b=c.getDataContainers();var d;for(var i=0;i<c.dialogArray.length;i++){a=c.dialogArray[i];d=a.getProperties();if(d&&d.length&&d.length>0){for(var j=0;j<d.length;j++){b[i].addAggregation("properties",d[j],false)}}}};
sap.landvisz.LandscapeEntityRenderer._resetHeaderNavigation=function(r,c){var a=c.getDataContainers();for(var i=0;i<a.length;i++){if(i!=c.selectedIndex){a[i].visible=true}}};
sap.landvisz.LandscapeEntityRenderer._checkAllPopupClosed=function(c,a){var d;for(var i=0;i<c.dialogArray.length;i++){d=c.dialogArray[i];if(d.isOpen()==true&&i!=c.selectedIndex&&a.getHeader()!=d.getHeader()){c.explodeViewClosed=false;return false}}c.explodeViewClosed=true;return true};
sap.landvisz.LandscapeEntityRenderer._renderCustomActionRegion=function(r,c){var a=c.getId();c.actions=c.getActionBar();for(var i=c.actions.length-1;i>=0;i--){c.action=c.actions[i];c.action.setRenderingSize(c.getRenderingSize());c.action.oActToolBar=c.oBtnToolBar;c.action.systemId=c.getSystemId();c.oHLayoutAction.addContent(c.action)}c.oHLayoutAction.addStyleClass("sapLandviszActionLayout");var b=c.oHLayoutAction.getContent();for(var j=0;j<b.length;j++){b[j].setRenderingSize(c.getRenderingSize())}};
sap.landvisz.LandscapeEntityRenderer._renderOverlayContainer=function(r,c){c.oVLayoutOverlay.removeAllContent();var a=c.getRenderingSize();r.write("<div");r.writeClasses();r.writeAttributeEscaped("id",c.getId()+"-innerOverlay");r.write(" style='");r.write("top:74px;");if(a==sap.landvisz.EntityCSSSize.RegularSmall){r.write("width:24.5em;");r.write("height:15.88em;");r.write("left:108px;")}if(a==sap.landvisz.EntityCSSSize.Regular){r.write("width:28.1em;");r.write("height:18em;");r.write("left:124px;")}else if(a==sap.landvisz.EntityCSSSize.Medium){r.write("width:32.6em;");r.write("height:21.3em;");r.write("left:124px;")}r.write("position:absolute;");r.write("font-size: 12px;");r.write("border: 1px solid grey;");r.write("z-index:10;");r.write("float:left;");if(c.showOverlay==true)r.write("display:block;");else r.write("display:none;");r.write("'");r.write(">");var b=c.getDataContainers();var h;for(var i=0;i<b.length;i++){if(b[i].getSelected()==true){h=b[i].getProperties();break}}var d;var n;if(h){for(var i=0;i<h.length;i++){if(h[i]instanceof sap.landvisz.internal.LinearRowField){d=new sap.landvisz.internal.LinearRowField();d.addStyleClass("overlayRow");d.setLabel(h[i].getLabel());d.setValue(h[i].getValue());d.setRenderingSize(h[i].getRenderingSize());d.setIconType(h[i].getIconType());d.setIconTitle(h[i].getIconTitle());if(c.showOverlay==true&&c.overlayFilter=="")d.addStyleClass("sapLandviszDisplayBlock");else if(c.showOverlay==true&&c.overlayFilter==h[i].getLinkSource())d.addStyleClass("sapLandviszDisplayBlock");else d.addStyleClass("sapLandviszDisplayNone");d.setLinkSource(h[i].getLinkSource());d.setRightIconSrc(h[i].getRightIconSrc());c.oVLayoutOverlay.addContent(d)}else if(h[i]instanceof sap.landvisz.internal.NestedRowField){n=new sap.landvisz.internal.NestedRowField();n.setLabel(h[i].getLabel());n.setRenderingSize(h[i].getRenderingSize());n.setType(h[i].getType());n.setIconTitle(h[i].getIconTitle());n.setLinkSource(h[i].getLinkSource());n.addStyleClass("overlayRow");var e=h[i].getLinearRows();var f=false;for(var j=0;j<e.length;j++){d=new sap.landvisz.internal.LinearRowField();d.setLabel(e[j].getLabel());d.setValue(e[j].getValue());d.setRenderingSize(e[j].getRenderingSize());d.setIconType(e[j].getIconType());d.setIconTitle(e[j].getIconTitle());d.setLinkSource(e[j].getLinkSource());if(c.showOverlay==true&&c.overlayFilter==""){d.addStyleClass("sapLandviszDisplayBlock");f=true}else if(c.showOverlay==true&&c.overlayFilter==e[j].getLinkSource()){d.addStyleClass("sapLandviszDisplayBlock");f=true}else d.addStyleClass("sapLandviszDisplayNone");d.setRightIconSrc(e[j].getRightIconSrc());n.addAggregation("linearRows",d,false)}if(f==true)n.addStyleClass("sapLandviszDisplayBlock");else n.addStyleClass("sapLandviszDisplayNone");c.oVLayoutOverlay.addContent(n)}}}c.oVLayoutOverlay.addStyleClass("sapLandviszVlayoutOverLay");r.renderControl(c.oVLayoutOverlay);r.write("</div>");r.write("<div");r.writeClasses();r.writeAttributeEscaped("id",c.getId()+"-overlay");r.write(" style='");r.write("left:0px;");r.write("top:0px;");r.write("width:100%;");r.write("height:100%;");r.write("position:absolute;");r.write("background-color:rgb(229, 229, 229);");r.write("font-size: 12px;");r.write("z-index:8;");r.write("cursor:not-allowed;");r.write("opacity:0.5;");r.write("float:left;");if(c.showOverlay==true)r.write("display:block;");else r.write("display:none;");r.write("'");r.write(">");r.write("</div>")};
