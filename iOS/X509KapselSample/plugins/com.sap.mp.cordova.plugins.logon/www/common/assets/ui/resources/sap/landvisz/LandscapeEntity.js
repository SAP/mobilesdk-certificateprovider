/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * 
 * (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.landvisz.LandscapeEntity");jQuery.sap.require("sap.landvisz.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.landvisz.LandscapeEntity",{metadata:{library:"sap.landvisz",properties:{"systemName":{type:"string",group:"Data",defaultValue:null},"type":{type:"sap.landvisz.LandscapeObject",group:"Data",defaultValue:null},"qualifierText":{type:"string",group:"Data",defaultValue:null},"qualifierTooltip":{type:"string",group:"Data",defaultValue:null},"qualifierType":{type:"string",group:"Data",defaultValue:null},"renderingSize":{type:"sap.landvisz.EntityCSSSize",group:"Dimension",defaultValue:sap.landvisz.EntityCSSSize.Regular},"defaultState":{type:"string",group:"Data",defaultValue:null},"description":{type:"string",group:"Data",defaultValue:null},"actions":{type:"object",group:"Data",defaultValue:null},"systemStatus":{type:"sap.landvisz.ModelingStatus",group:"Data",defaultValue:sap.landvisz.ModelingStatus.NORMAL},"statusTooltip":{type:"string",group:"Data",defaultValue:null},"explodeViewWidth":{type:"sap.ui.core.CSSSize",group:"Data",defaultValue:null},"explodeViewHeight":{type:"sap.ui.core.CSSSize",group:"Data",defaultValue:null},"showCustomActions":{type:"boolean",group:"Identification",defaultValue:true},"showEntityActions":{type:"boolean",group:"Data",defaultValue:true},"systemId":{type:"string",group:"Identification",defaultValue:null},"stateIconSrc":{type:"string",group:"Data",defaultValue:null},"stateIconTooltip":{type:"string",group:"Data",defaultValue:null},"componentType":{type:"sap.landvisz.ComponentType",group:"Identification",defaultValue:null},"componentTypeTooltip":{type:"string",group:"Data",defaultValue:null}},aggregations:{"dataContainers":{type:"sap.landvisz.internal.DataContainer",multiple:true,singularName:"dataContainer"},"actionBar":{type:"sap.landvisz.internal.ActionBar",multiple:true,singularName:"actionBar"},"entityStatus":{type:"sap.ui.commons.Image",multiple:false}},events:{"mouseOverIdenIcon":{},"statusSelect":{}}}});sap.landvisz.LandscapeEntity.M_EVENTS={'mouseOverIdenIcon':'mouseOverIdenIcon','statusSelect':'statusSelect'};jQuery.sap.require("sap.landvisz.internal.IdentificationBarRenderer");jQuery.sap.require("sap.landvisz.EntityConstants");
sap.landvisz.LandscapeEntity.prototype.init=function(){this.initializationDone=false;this.top=0;this.explodeViewClosed=true;this.left=0;this.oHLayout=null;this.firstTime=true;var c=sap.ui.getCore().getConfiguration().getTheme();this.internalEvent=false;this.showMax=true;this._imgResourcePath=sap.ui.resource('sap.landvisz','themes/base/img/framework/');this._imgFolderPath="16x16/";this.maxIconSrc=this._imgResourcePath+this._imgFolderPath+"maximize_enable_dark.png";this.restoreIconSrc=this._imgResourcePath+this._imgFolderPath+"restore_enable_dark.png";this.smvIconSrc=this._imgResourcePath+ +this._imgFolderPath+"openshowall_enable_dark.png";this.smvCollapseIconSrc=this._imgResourcePath+ +this._imgFolderPath+"closeshowall_enable_dark.png";this.entityAction;this.entityActionArray=new Array();var b=sap.ui.getCore().getLibraryResourceBundle("sap.landvisz");this.SHOW_ALL_TEXT=b.getText("SHOW_ALL");this.COLLAPSE_TEXT=b.getText("COLLAPSE_ALL");this.MAXIMIZE_TEXT=b.getText("MAXIMIZE");this.RESTORE_TEXT=b.getText("RESTORE");this.NEXT=b.getText("NEXT");this.PREVIOUS=b.getText("PREVIOUS");this.createActionButtons(this.SHOW_ALL_TEXT,"showAll",this.smvIconSrc);this.createActionButtons(this.COLLAPSE_TEXT,"collapseAll",this.smvCollapseIconSrc);this.createActionButtons(this.MAXIMIZE_TEXT,"max",this.maxIconSrc);this.createActionButtons(this.RESTORE_TEXT,"restore",this.restoreIconSrc);this.dialogArray=new Array();this.propertyArray=new Array();this.expVisible=false;this.showMiniNavigation=true;this.hasNavigationEvent=false;this.hasEntityEvent=false;this.containerEvent=false;this.maxEnabled=true;this.sViewWidth=0;this.sViewHeight=0;this.viewType="";this.showOverlay=false;this.overlayFilter="";this.oDialog=new sap.ui.commons.Dialog({modal:false,});this.previousClicked=false;this.display="block"};
sap.landvisz.LandscapeEntity.prototype.exit=function(){this.oHLayout&&this.oHLayout.destroy();this.oVLayout&&this.oVLayout.destroy()};
sap.landvisz.LandscapeEntity.prototype.createActionButtons=function(t,i,a){var b=this.getId();this.entityAction=new sap.landvisz.internal.EntityAction(b+i+"EntityAction");this.entityAction.setActionTooltip(t);this.entityActionArray.push(this.entityAction)};
sap.landvisz.LandscapeEntity.prototype.initControls=function(){var i=this.getId();var r=sap.ui.getCore().getLibraryResourceBundle("sap.landvisz");if(!this.oVLayout)this.oVLayout=new sap.ui.commons.layout.VerticalLayout(i+"-CLVEntityVLayout");if(!this.oVLayoutContainer)this.oVLayoutContainer=new sap.ui.commons.layout.VerticalLayout(i+"-CLVEntityVLayoutContainer");if(!this.oVLayoutProperties)this.oVLayoutProperties=new sap.ui.commons.layout.VerticalLayout(i+"-CLVEntityVLayoutProperties");if(!this.oHLayout)this.oHLayout=new sap.ui.commons.layout.HorizontalLayout(i+"CLVEntityHLayout");if(!this.oIdnBar)this.oIdnBar=new sap.landvisz.internal.IdentificationBar(i+"-CLVEntityIdnRegion");if(!this.modelStatus)this.modelStatus=new sap.landvisz.internal.ModelingStatus(i+"-CLVEntityModelingStatus");if(!this.propertyHeaders)this.propertyHeaders=new Array();this.selectedIndex=0;this.dataContainer;this.headerBtn;this.navItem;this.isAggregated;if(!this.oHLayoutMiniNavigation)this.oHLayoutMiniNavigation=new sap.ui.commons.layout.HorizontalLayout(i+"CLVEntityMiniNavigationHLayout");if(!this.oHLayoutAction)this.oHLayoutAction=new sap.ui.commons.layout.HorizontalLayout(i+"CLVEntityActions");if(!this.oHLayoutAllAction)this.oHLayoutAllAction=new sap.ui.commons.layout.HorizontalLayout(i+"CLVEntityAllActions");this.smvContainer;this.containerWidth;this.oToolBarBtn;this.visibleTabCount=0;if(!this.entityHeader)this.entityHeader=new sap.ui.commons.TabStrip(i+"-CLVTabStrip");if(!this.oHeadersLayout)this.oHeadersLayout=new sap.ui.commons.layout.HorizontalLayout(i+"-CLVHeadersLayout");if(!this.previousIcon)this.nextIcon=new sap.ui.commons.Image(i+"-NextImage");if(!this.previousIcon)this.previousIcon=new sap.ui.commons.Image(i+"-PreviousImage");if(!this.oSingleHeaderLayout)this.oSingleHeaderLayout=new sap.ui.commons.layout.HorizontalLayout(i+"-oSingleHeaderLayout");if(!this.oSingleHeaderLabel)this.oSingleHeaderLabel=new sap.ui.commons.Label(i+"-oSingleHeaderLabel");if(!this.oVLayoutOverlay)this.oVLayoutOverlay=new sap.ui.commons.layout.VerticalLayout(i+"-vlayoutOverlay");this.nextEnabled=false;this.previousEnable=false;this.entityMaximized};
sap.landvisz.LandscapeEntity.prototype.onclick=function(e){if(e.srcControl.getTooltip()==this.MAXIMIZE_TEXT)this.display="none";else this.display="block"};
sap.landvisz.LandscapeEntity.prototype.onAfterRendering=function(){setTimeout(function(){var s=jQuery.sap.byId("SMV");var g;if(s&&s.length>0){for(var i=0;i<s[0].children.length;i++){g=jQuery.sap.byId(s[0].children[i].id);g.show(700)}}},800);if(this.entityMaximized==true){var m=this.containerWidth-2;jQuery.sap.byId(this.oHLayoutMiniNavigation.getId()).css({width:m,});var a=this.getId();var p=this.sViewHeight-32-41;var b=this.sViewWidth-33-100;jQuery.sap.byId(a+"-CLVEntityVLayoutProperties").css({height:p,width:b,"display":this.display})}var l=this.containerWidth;if(this.entityMaximized!=true)l=(l*12);var h=jQuery.sap.byId(this.oHeadersLayout.getId());h.css({width:l,});var n=this.oHeadersLayout.getContent();var c;var d;if(n&&n.length>1){for(var i=0;i<n.length;i++){c=n[i];d=jQuery.sap.byId(c.getId());if(c.inDisplay==true){d.show()}else d.hide()}}var t=this.getDataContainers();var e;var f;if(t&&t.length>1){for(var i=0;i<t.length;i++){e=t[i];f=jQuery.sap.byId(e.getId());if(e.inDisplay==true){f.show(700)}else f.hide(500)}}this.previousClicked=false};
