/*!
 * SAP UI development toolkit for HTML5 (SAPUI5/OpenUI5)
 * (c) Copyright 2009-2015 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['jquery.sap.global','sap/ui/core/Element','sap/ui/core/EnabledPropagator','sap/ui/layout/library'],function(q,E,a,l){"use strict";var F=E.extend("sap.ui.layout.form.FormElement",{metadata:{library:"sap.ui.layout",properties:{visible:{type:"boolean",group:"Misc",defaultValue:true}},defaultAggregation:"fields",aggregations:{label:{type:"sap.ui.core.Label",altTypes:["string"],multiple:false},fields:{type:"sap.ui.core.Control",multiple:true,singularName:"field"}}}});(function(){F.prototype.init=function(){this._oFieldDelegate={oElement:this,onAfterRendering:c}};F.prototype.exit=function(){if(this._oLabel){this._oLabel.destroy();delete this._oLabel}this._oFieldDelegate=undefined};F.prototype.setLabel=function(A){if(!this._oLabel){var o=this.getLabel();if(o){if(o.isRequired){o.isRequired=o._sapui_isRequired;o._sapui_isRequired=undefined}if(o.getLabelForRendering){o.getLabelForRendering=o._sapui_getLabelForRendering;o._sapui_getLabelForRendering=undefined}}}this.setAggregation("label",A);var L=A;if(typeof L==="string"){if(!this._oLabel){this._oLabel=sap.ui.layout.form.FormHelper.createLabel(L);this._oLabel.setParent(this);if(L.isRequired){this._oLabel.isRequired=_}this._oLabel.getLabelForRendering=b}else{this._oLabel.setText(L)}}else{if(this._oLabel){this._oLabel.destroy();delete this._oLabel}if(!L){return this}if(L.isRequired){L._sapui_isRequired=L.isRequired;L.isRequired=_}if(L.getLabelForRendering){L._sapui_getLabelForRendering=L.getLabelForRendering;L.getLabelForRendering=b}}return this};F.prototype.getLabelControl=function(){if(this._oLabel){return this._oLabel}else{return this.getLabel()}};F.prototype.addField=function(f){this.addAggregation("fields",f);f.addDelegate(this._oFieldDelegate);return this};F.prototype.insertField=function(f,i){this.insertAggregation("fields",f,i);f.addDelegate(this._oFieldDelegate);return this};F.prototype.removeField=function(f){var r=this.removeAggregation("fields",f);r.removeDelegate(this._oFieldDelegate);return r};F.prototype.removeAllFields=function(){var r=this.removeAllAggregation("fields");for(var i=0;i<r.length;i++){var R=r[i];R.removeDelegate(this._oFieldDelegate)}return r};F.prototype.destroyFields=function(){var f=this.getFields();for(var i=0;i<f.length;i++){var o=f[i];o.removeDelegate(this._oFieldDelegate)}this.destroyAggregation("fields");return this};F.prototype.updateFields=function(){var f=this.getFields();for(var i=0;i<f.length;i++){var o=f[i];o.removeDelegate(this._oFieldDelegate)}this.updateAggregation("fields");f=this.getFields();for(var i=0;i<f.length;i++){var o=f[i];o.addDelegate(this._oFieldDelegate)}return this};F.prototype.enhanceAccessibilityState=function(e,A){var L=this.getLabelControl();if(L&&L!=e){if(!A["labelledby"]){A["labelledby"]=L.getId()}var C=this.getParent();var d=C.getFormElements();if(this==d[0]){var f=this.getFields();if(e==f[0]){var t=C.getTitle();if(t){var i="";if(typeof t=="string"){i=C.getId()+"--title"}else{i=t.getId()}var D=A["describedby"];if(D){D=D+" "+i}else{D=i}A["describedby"]=D}}}}return A};F.prototype.onLayoutDataChange=function(e){var p=this.getParent();if(p&&p.onLayoutDataChange){p.onLayoutDataChange(e)}};var _=function(){var f=this.getParent();var d=f.getFields();for(var i=0;i<d.length;i++){var o=d[i];if(o.getRequired&&o.getRequired()===true){return true}}return false};var b=function(){if(this.getLabelFor()){return this.getLabelFor()}else{var f=this.getParent();var d=f.getFields();if(d[0]){return d[0].getId()}}};var c=function(e){var p=this.oElement.getParent();if(p&&p.contentOnAfterRendering){p.contentOnAfterRendering(this.oElement,e.srcControl)}}}());return F},true);
